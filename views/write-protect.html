{# This is a swig-templated HTML file #}
{# http://paularmstrong.github.com/swig/ #}

{% comment %}

 protect_tab.html - "Protect" tab, included from write.html
 Copyright (C) 2012 HostileFork.com

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU Affero General Public License as
 published by the Free Software Foundation, either version 3 of the
 License, or (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU Affero General Public License for more details.

 You should have received a copy of the GNU Affero General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.

   See http://blackhighlighter.hostilefork.com for documentation.

{% endcomment %}

<div class="tabs-content" id="tabs-protect">

	<div class="leading-section">
		<p>Now it's time to pull out your "black highlighter" and protect any
		information you <i>don't want posted to the public</i>.  You'll be
		sending these protected contents to the recipient with a certificate.
		To make edits to what you've written, go back to the "Compose" tab.</p>
		<p>Click on a protected section to un-protect it.  Anything marked in
		<span style="color: #FFA500;">orange</span> is a suggestion you can
		protect with a single click (email addresses, etc.)</p>
	</div>

	<div class="textarea-wrapper" id="protect-wrapper">
	{# {% comment %} #}<!--
		Contents will be copied here from editor-compose textarea when tab is switched
		When tab is switched back to compose, any protection changes are copied back
	-->{# {% endcomment %} #}
	</div>

	<div id="commit-json-accordion"><h3>View the low-level redacted data that will be sent to the server</h3>
		<div>
			<div id='json-commit'>
				{# Filled on demand #}
			</div>
		</div>
	</div>

	<div class="trailing-section">
		<p>The marked out text of your letter won't be published.  Instead,
		what will be published are digital signatures that can be used to
		verify what you entered, without actually containing the hidden text.
		You will be given certificates for these missing parts, that you may
		share privately with who you wish.</p>

		<div class="error-display" style="display: none;">
			<div class="ui-state-error ui-corner-all" style="margin-top: 20px; padding: 0 .7em;"> 
				<p><span class="ui-icon ui-icon-info" style="float: left; margin-right: .3em;"></span>
				<strong>Error:</strong> <span class="error-display-msg">{# filled by notifyErrorOnTab() #}</span></p>
			</div>
		</div>

		<div class="action-buttons">
			<p><a href="#" class="previous-step">go back and edit</a>
			-or-
			<button id="commit-button">
				<b>Publish the Public Portions</b>
			</button></p>
		</div>

		<div id="progress-commit" style="display: none;">
			<div class="indeterminate-progress"></div>
		</div>

		<div class="ui-state-highlight ui-corner-all" style="margin-top: 20px; padding: 0 .7em;"> 
			<p><span class="ui-icon ui-icon-info" style="float: left; margin-right: .3em;"></span>
			<b>Legal note:</b> By posting your letter, you are agreeing to publish
			it under the Creative Commons <a href="http://creativecommons.org/licenses/by-nd/3.0/" target="_blank">No Derivative Works</a> 
			license.  This gives others the right to present copies for commentary (or for 
			any other purpose)&mdash;<i>as long as those copies and
			digital signatures are not modified</i>.</p>
		</div>
	</div>
</div>
